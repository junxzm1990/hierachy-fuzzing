WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WDialog",(function(t,e,i,o,s,n,l,y,f){e.wtObj=this;const r=this,h=e.querySelector(".dialog-layout"),a=t.WT;let c,u,d=-1,p=-1,x=-1,w=-1,g=!1,m=-1,z=-1,b=-1,S=-1;function M(){if(l){const i=a.pxself(e,"left"),o=a.pxself(e,"top");if(i!==d||o!==p){d=i;p=o;t.emit(e,l,d,p)}}}function v(i,o){if(!g&&(i!==x||o!==w)){x=i;w=o;y&&t.emit(e,y,x,w)}}function E(t){const i=t||window.event,o=a.pageCoordinates(i),l=a.windowCoordinates(i),y=a.windowSize();if(l.x>0&&l.x<y.x&&l.y>0&&l.y<y.y){s=n=!1;if("auto"===e.style.right||""===e.style.right){e.style.left=a.px(e,"left")+o.x-c+"px";e.style.right=""}else{e.style.right=a.px(e,"right")+c-o.x+"px";e.style.left="auto"}if("auto"===e.style.bottom||""===e.style.bottom){e.style.top=a.px(e,"top")+o.y-u+"px";e.style.bottom=""}else{e.style.bottom=a.px(e,"bottom")+u-o.y+"px";e.style.top="auto"}c=o.x;u=o.y}}if(i&&o){i.onmousedown=function(t){const e=t||window.event;a.capture(i);const o=a.pageCoordinates(e);c=o.x;u=o.y;i.onmousemove=E};i.onmouseup=function(t){i.onmousemove=null;M();a.capture(null)}}this.centerDialog=function(){const t=a.parsePct(a.css(e,"max-width"),0),o=a.parsePct(a.css(e,"max-height"),0);if(0!==t){const e=a.windowSize(),i=h.firstChild.wtLayout;i&&i.setMaxSize&&i.setMaxSize(e.x*t/100,e.y*o/100)}if(null!==e.parentNode){if("none"!==e.style.display){const t=a.windowSize(),i=e.offsetWidth,o=e.offsetHeight;-1!==m&&(s=!0);-1!==z&&(n=!0);if(s){e.style.left=Math.round((t.x-i)/2+(a.isIE6?document.documentElement.scrollLeft:0))+"px";e.style.marginLeft="0px"}if(n){e.style.top=Math.round((t.y-o)/2+(a.isIE6?document.documentElement.scrollTop:0))+"px";e.style.marginTop="0px"}""!==e.style.position&&(e.style.visibility="visible");M()}}else e=i=null};function C(){return a.windowSize().x*m/100}function D(){return a.windowSize().y*z/100}this.bringToFront=function(){const i=a.maxZIndex();if(i>e.style.zIndex){const o=i+1;e.style.zIndex=o;t.emit(e,f,o)}};this.onresize=function(i,o,l){s=n=!1;g=!l;!function(t,i,o,s){if(s){if(i>0){const t=a.px(h,"border-left-width"),e=a.px(h,"border-right-width");h.style.width=`${i+e+t}px`}if(o>0){const t=a.px(h,"border-top-width"),e=a.px(h,"border-bottom-width");h.style.height=`${o+t+e}px`}}r.centerDialog();e.wtResize&&e.wtResize(e,i,o,!0)}(0,i,o,!0);const y=h.firstChild.wtLayout;y&&y.setMaxSize&&y.setMaxSize(0,0);t.layouts2&&t.layouts2.scheduleAdjust();l&&v(i,o)};h.wtResize=function(t,i,o,s){""===e.style.position&&(e.style.position=a.isIE6?"absolute":"fixed");e.style.visibility="visible";z=a.parsePct(e.style.height,z);m=a.parsePct(e.style.width,m);if(s){e.style.height=Math.max(0,o)+"px";e.style.width=Math.max(0,i)+"px"}v(i,o);r.centerDialog();const n=-1!==m,l=-1!==z;if(n&&l){b=C();S=D();r.onresize(b,S,!0)}else if(n){b=C();r.onresize(b,o,!0)}else if(l){S=D();r.onresize(i,S,!0)}};e.wtPosition=function(){r.centerDialog();t.layouts2&&t.layouts2.adjust()};""!==e.style.width&&(a.parsePx(e.style.width)>0?h.style.width=e.style.width:h.style.width=e.offsetWidth+"px");""!==e.style.height&&(a.parsePx(e.style.height)>0?h.style.height=e.style.height:h.style.height=e.offsetHeight+"px");r.centerDialog()}));